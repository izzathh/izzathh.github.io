import{u as P,r,j as b}from"./index-CfwhNGmB.js";const I=()=>{const{freezeSpace:a}=P(),o=r.useRef(null),y=150,d=r.useRef([]),t=r.useRef(null),h=r.useRef(a);let g;const u=()=>{d.current=[];const e=1/window.devicePixelRatio;for(let n=0;n<y;n++)d.current.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,radius:Math.random()*2*e,opacity:Math.random(),fadeDirection:Math.random()<.5?1:-1})},l=()=>{t.current={x:window.innerWidth,y:Math.random()*window.innerHeight,length:Math.random()*150+50,speed:Math.random()*8+4,opacity:1,angle:Math.PI+Math.random()*Math.PI/4-Math.PI/8,initialX:window.innerWidth}},M=e=>{e.clearRect(0,0,e.canvas.width,e.canvas.height),d.current.forEach(n=>{e.beginPath(),e.arc(n.x,n.y,n.radius,0,Math.PI*2),e.fillStyle=`rgba(255, 255, 255, ${n.opacity})`,e.fill(),n.opacity<=0?n.fadeDirection=1:n.opacity>=1&&(n.fadeDirection=-1),n.opacity+=n.fadeDirection*.005})},S=e=>{if(!t.current)return;const{x:n,y:c,length:s,speed:m,angle:i,initialX:p}=t.current,v=p-n,R=p-50,z=v/R;t.current.opacity=1-z,t.current.x+=Math.cos(i)*m,t.current.y+=Math.sin(i)*m,e.shadowBlur=15,e.shadowColor="rgba(255, 255, 255, 0.5)",e.beginPath(),e.moveTo(n,c),e.lineTo(n-Math.cos(i)*s,c-Math.sin(i)*s);const w=e.createLinearGradient(n,c,n-Math.cos(i)*s,c-Math.sin(i)*s);w.addColorStop(0,`rgba(255, 255, 255, ${t.current.opacity})`),w.addColorStop(1,"rgba(255, 255, 255, 0)"),e.strokeStyle=w,e.lineWidth=3,e.stroke(),e.shadowBlur=0};r.useEffect(()=>{h.current=a,!h.current&&!a&&o.current&&(u(),f(),l())},[a]);const f=()=>{if(h.current)return;const e=o.current;if(e){const n=e.getContext("2d");M(n),S(n),t.current&&(t.current.opacity<=0||t.current.x<0||t.current.y>window.innerHeight||t.current.y<0)&&(t.current=null,setTimeout(l,Math.random()*5e3+2e3)),g=requestAnimationFrame(f)}};return r.useEffect(()=>{const e=o.current;e&&(e.width=window.innerWidth,e.height=window.innerHeight,u(),f(),l());const n=()=>{e&&(e.width=window.innerWidth,e.height=window.innerHeight,u())};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),cancelAnimationFrame(g)}},[]),b.jsx("canvas",{ref:o,style:{position:"fixed",top:0,left:0,zIndex:-1}})};export{I as default};
